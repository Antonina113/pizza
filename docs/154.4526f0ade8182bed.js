"use strict";(self.webpackChunkpizza=self.webpackChunkpizza||[]).push([[154],{9154:(E,g,r)=>{r.r(g),r.d(g,{OrderModule:()=>l});var h=r(6895),c=r(8869),u=r(4650),C=r(389),m=r(4602);class d{constructor(o,e){this.el=o,this.rend=e,this.coolInputDefaultBgColor="white",this.coolInputFocusBgColor="orange",this._backgroundColor="",this._isOnFocus=!1}get getBgcolor(){return this._backgroundColor}get getIsOnFocus(){return this._isOnFocus}onFocus(){this.changeElementBgColor(this.coolInputFocusBgColor),this._isOnFocus=!0}onBlur(){this.changeElementBgColor(this.coolInputDefaultBgColor),this._isOnFocus=!1}onClick(o,e){console.log(o),console.log(e)}ngOnInit(){this.changeElementBgColor(this.coolInputDefaultBgColor),this.rend.setAttribute(this.el.nativeElement,"placeholder",this.el.nativeElement.getAttribute("placeholder")+"*")}changeElementBgColor(o){this._backgroundColor=o}}d.\u0275fac=function(o){return new(o||d)(u.Y36(u.SBq),u.Y36(u.Qsj))},d.\u0275dir=u.lG2({type:d,selectors:[["","coolInput",""]],hostVars:4,hostBindings:function(o,e){1&o&&u.NdJ("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()})("click",function(s){return e.onClick(s,s.target)}),2&o&&(u.Udp("background-color",e.getBgcolor),u.ekj("isOnFocus",e.getIsOnFocus))},inputs:{coolInputDefaultBgColor:"coolInputDefaultBgColor",coolInputFocusBgColor:"coolInputFocusBgColor"}});var p=r(4006);const f=function(t){return{product:t}};class a{constructor(o,e,n){this.cartService=o,this.activateRoute=e,this.productService=n,this.formValues={productTitle:"",address:"",phone:""},this.subscription=null,this.subscriptionOrder=null}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscriptionOrder?.unsubscribe()}ngOnInit(){this.subscription=this.activateRoute.queryParams.subscribe(e=>{e.product&&(this.formValues.productTitle=e.product)});const o=this.activateRoute.snapshot.queryParamMap.get("product");o&&(this.formValues.productTitle=o)}createOrder(){this.formValues.productTitle?this.formValues.address?this.formValues.phone?this.subscriptionOrder=this.productService.createOrder({product:this.formValues.productTitle,address:this.formValues.address,phone:this.formValues.phone}).subscribe(o=>{o.success&&!o.message?(alert("\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437"),this.formValues={productTitle:"",address:"",phone:""}):alert("\u041e\u0448\u0438\u0431\u043a\u0430")}):alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0422\u0435\u043b\u0435\u0444\u043e\u043d"):alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441"):alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u041f\u0438\u0446\u0446\u0443")}}a.\u0275fac=function(o){return new(o||a)(u.Y36(C.N),u.Y36(c.gz),u.Y36(m.M))},a.\u0275cmp=u.Xpm({type:a,selectors:[["app-order"]],decls:18,vars:8,consts:[["id","order",1,"order"],[1,"container"],[1,"order-text"],[1,"order-text-title","double-title"],["routerLink","/order",3,"queryParams"],[1,"order-text-message"],[1,"order-form"],["type","text","coolInput","","id","product-input","placeholder","\u041f\u0438\u0446\u0446\u0430",1,"order-input",3,"coolInputDefaultBgColor","coolInputFocusBgColor","ngModel","ngModelChange"],["type","text","id","address-input","name","address","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",1,"order-input",3,"ngModel","ngModelChange"],["type","text","coolInput","","id","phone-input","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d",1,"order-input",3,"ngModel","ngModelChange"],[1,""],[1,"btn",3,"click"],[1,"order-image"],["src","../../../assets/images/pizzzzza.png","alt","Pizza"]],template:function(o,e){1&o&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u._uU(5,"\u0425\u0432\u0430\u0442\u0438\u0442 \u0434\u0443\u043c\u0430\u0442\u044c!"),u.qZA(),u._uU(6," \u0414\u043e\u0441\u0442\u0430\u0432\u0438\u043c \u0437\u0430\u043a\u0430\u0437 \u0437\u0430 30 \u043c\u0438\u043d\u0443\u0442!"),u.qZA(),u.TgZ(7,"div",5),u._uU(8,"\u041c\u044b \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043c \u0432\u0430\u0448\u0443 \u043f\u0438\u0446\u0446\u0443 \u0437\u0430 30 \u043c\u0438\u043d\u0443\u0442 \u0441 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430. \u0415\u0441\u043b\u0438 \u043c\u044b \u043e\u043f\u043e\u0437\u0434\u0430\u0435\u043c \u0434\u0430\u0436\u0435 \u043d\u0430 1 \u043c\u0438\u043d\u0443\u0442\u0443 - \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0432\u0435\u0441\u044c \u0437\u0430\u043a\u0430\u0437 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0438 \u0432\u0430\u0443\u0447\u0435\u0440 \u043d\u0430 \u0441\u043a\u0438\u0434\u043a\u0443 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0437\u0430\u043a\u0430\u0437. \u041c\u044b \u0433\u043e\u0440\u0434\u0438\u043c\u0441\u044f \u043d\u0430\u0448\u0438\u043c \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u0438 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0432\u0441\u0451, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0448 \u043a\u043b\u0438\u0435\u043d\u0442 \u0431\u044b\u043b \u0434\u043e\u0432\u043e\u043b\u0435\u043d \u0438 \u043d\u0435 \u043e\u0441\u0442\u0430\u043b\u0441\u044f \u0433\u043e\u043b\u043e\u0434\u043d\u044b\u0439! "),u.qZA()(),u.TgZ(9,"div",6)(10,"input",7),u.NdJ("ngModelChange",function(s){return e.formValues.productTitle=s}),u.qZA(),u.TgZ(11,"input",8),u.NdJ("ngModelChange",function(s){return e.formValues.address=s}),u.qZA(),u.TgZ(12,"input",9),u.NdJ("ngModelChange",function(s){return e.formValues.phone=s}),u.qZA(),u.TgZ(13,"div",10)(14,"button",11),u.NdJ("click",function(){return e.createOrder()}),u._uU(15,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA()()(),u.TgZ(16,"div",12),u._UZ(17,"img",13),u.qZA()()()),2&o&&(u.xp6(4),u.Q6J("queryParams",u.VKq(6,f,e.formValues.productTitle+"1 ")),u.xp6(6),u.Q6J("coolInputDefaultBgColor","gray")("coolInputFocusBgColor","red")("ngModel",e.formValues.productTitle),u.xp6(1),u.Q6J("ngModel",e.formValues.address),u.xp6(1),u.Q6J("ngModel",e.formValues.phone))},dependencies:[d,c.rH,p.Fj,p.JJ,p.On]});var B=r(9100);const D=[{path:"",component:a,canActivate:[B.B]}];class i{}i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[c.Bz.forChild(D),c.Bz]});var v=r(4466);class l{}l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=u.oAB({type:l}),l.\u0275inj=u.cJS({imports:[h.ez,v.m,c.Bz,p.u5,i,i]})}}]);